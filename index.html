<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOR Magical Use Only</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/contentful@latest/dist/contentful.browser.min.js"></script>
    <script src="static/js/contentful-config.js"></script>
</head>
<body>
    <header>
        <h1>FOR Magical Use Only</h1>
        <p class="slogan">Yoir Imagination Fabrication Inspiration Animation Observation Creation Station<span id="easter-egg-trigger">.</span></p>
    </header>
    <div id="easter-egg-popup" class="easter-egg-popup">
        <div class="popup-content">
            <span class="close-popup">&times;</span>
            <h2>You Found It!</h2>
            <p>Send me an email with a screenshot of this pop-up to get a free 3D model or print model.</p>
        </div>
    </div>
    <nav>
        <a href="index.html" title="Home"><i class="fas fa-home"></i></a>
        <a href="aboutthemagic.html" title="About"><i class="fas fa-info-circle"></i></a>
        <a href="gallery.html" title="Gallery"><i class="fas fa-images"></i></a>
        <a href="marketplace.html" title="Shop"><i class="fas fa-shopping-cart"></i></a>
        <a href="tours.html" title="Tours"><i class="fas fa-map-marked-alt"></i></a>
        <a href="support.html" title="Support"><i class="fas fa-heart"></i></a>
        <a href="draw.html" title="Draw"><i class="fas fa-pencil-alt"></i></a>
        <a href="tarot.html" title="Tarot"><i class="fas fa-book-open"></i></a>
        <a href="contact.html" title="Contact"><i class="fas fa-envelope"></i></a>
    </nav>
    <section class="welcome-section">
        <div class="welcome-text">
            <h2>Welcome to the Frontier Laboratory of Imagination.</h2>
            <p class="mission-statement">Our core mission is to turn raw possibility into experiences that wake people up to their own capacity to make something out of nothing. We are building a place where off-grid tech, desert salvage, and handmade myth collide to prove that creation doesn’t belong to the rich, the plugged-in, or the polished.</p>
            <p class="invitation">You’re stepping into a zone where improvisation is law, tech is a paintbrush, and your own weirdest ideas are suddenly fair game. Here, everything is an experiment. You’re invited to participate, not spectate.</p>
        </div>
    </section>

    <section class="data-vis-section">
        <h3>Community Power Level</h3>
        <div id="power-visualization" class="power-vis-container">
            <div id="power-bar" class="power-bar"></div>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 FOR Magical Use Only. Crafted in Slab City’s dust.</p>
    </footer>
    <script>
        // Upside-down feature: Edit flipDay (e.g., 15 for 15th)
        const flipDay = 15;
        const today = new Date();
        if (today.getDate() === flipDay) {
            document.body.classList.add('upside-down');
        }
        // Pulse animation on click
        document.querySelectorAll('.item').forEach(item => {
            item.addEventListener('click', () => {
                item.style.animation = 'pulse 0.5s';
                setTimeout(() => item.style.animation = '', 500);
            });
        });
        const style = document.createElement('style');
        style.innerHTML = '@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }';
        document.head.appendChild(style);

        // Easter Egg Logic
        const trigger = document.getElementById('easter-egg-trigger');
        const popup = document.getElementById('easter-egg-popup');
        const closeBtn = document.querySelector('.close-popup');

        trigger.addEventListener('click', () => {
            popup.style.display = 'flex';
        });

        closeBtn.addEventListener('click', () => {
            popup.style.display = 'none';
        });

        window.addEventListener('click', (event) => {
            if (event.target == popup) {
                popup.style.display = 'none';
            }
        });

        // Living Data Experiment
        document.addEventListener('DOMContentLoaded', () => {
            fetch('data/community-power.txt')
                .then(response => response.text())
                .then(text => {
                    const powerLevel = parseInt(text, 10);
                    const powerBar = document.getElementById('power-bar');
                    if (powerBar && !isNaN(powerLevel)) {
                        powerBar.style.width = `${powerLevel}%`;
                    }
                })
                .catch(error => console.error('Error fetching power data:', error));
        });
    </script>
</body>
</html>
